{"ast":null,"code":"import _slicedToArray from\"/home/jinsonshaju/GIT/cron-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{API}from\"../util/api/Api.js\";import\"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api=new API();function FileUpload(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fileName=_useState4[0],setFileName=_useState4[1];var uploadFlag=props.uploadFlag;var set=uploadFlag.set,get=uploadFlag.get;var saveFile=function saveFile(e){setFile(e.target.files[0]);setFileName(e.target.files[0].name);};var uploadFile=function uploadFile(event){if(typeof file===\"undefined\"){swal({title:\"Please select a File\",icon:\"warning\"});return;}var formData=new FormData();formData.append(\"file\",file);formData.append(\"fileName\",fileName);return new Promise(function(resolve){api.uploadFile(formData).then(function(res){set(!get);swal({title:res.data.message,icon:\"success\"});}).catch(function(err){console.log(err);});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",id:\"inputGroupFile04\",\"aria-describedby\":\"inputGroupFileAddon04\",\"aria-label\":\"Upload\",onChange:saveFile}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",id:\"inputGroupFileAddon04\",onClick:uploadFile,children:\"Upload\"})]})});}export default FileUpload;","map":{"version":3,"sources":["/home/jinsonshaju/GIT/cron-tracker/src/components/fileUpload/FileUpload.jsx"],"names":["React","useState","API","swal","api","FileUpload","props","file","setFile","fileName","setFileName","uploadFlag","set","get","saveFile","e","target","files","name","uploadFile","event","title","icon","formData","FormData","append","Promise","resolve","then","res","data","message","catch","err","console","log"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,GAAT,KAAoB,oBAApB,CACA,MAAO,4DAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,C,wFAEA,GAAIC,CAAAA,GAAG,CAAG,GAAIF,CAAAA,GAAJ,EAAV,CAEA,QAASG,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzB,cAAwBL,QAAQ,EAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,GAAQC,CAAAA,UAAR,CAAuBL,KAAvB,CAAQK,UAAR,CACA,GAAQC,CAAAA,GAAR,CAAqBD,UAArB,CAAQC,GAAR,CAAaC,GAAb,CAAqBF,UAArB,CAAaE,GAAb,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBP,OAAO,CAACO,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP,CACAP,WAAW,CAACK,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAnB,CAAX,CACD,CAHD,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,GAAI,MAAOb,CAAAA,IAAP,GAAgB,WAApB,CAAiC,CAC/BJ,IAAI,CAAC,CACHkB,KAAK,CAAE,sBADJ,CAEHC,IAAI,CAAE,SAFH,CAAD,CAAJ,CAIA,OACD,CACD,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBlB,IAAxB,EACAgB,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BhB,QAA5B,EACA,MAAO,IAAIiB,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CAC9BvB,GAAG,CACAe,UADH,CACcI,QADd,EAEGK,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbjB,GAAG,CAAC,CAACC,GAAF,CAAH,CACAV,IAAI,CAAC,CACHkB,KAAK,CAAEQ,GAAG,CAACC,IAAJ,CAASC,OADb,CAEHT,IAAI,CAAE,SAFH,CAAD,CAAJ,CAID,CARH,EASGU,KATH,CASS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAXH,EAYD,CAbM,CAAP,CAcD,CAzBD,CA2BA,mBACE,kCACE,aAAK,SAAS,CAAC,aAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,kBAHL,CAIE,mBAAiB,uBAJnB,CAKE,aAAW,QALb,CAME,QAAQ,CAAEnB,QANZ,EADF,cASE,eACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,EAAE,CAAC,uBAHL,CAIE,OAAO,CAAEK,UAJX,oBATF,GADF,EADF,CAsBD,CAED,cAAed,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { API } from \"../util/api/Api.js\";\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport swal from 'sweetalert';\n\nlet api = new API();\n\nfunction FileUpload(props) {\n  const [file, setFile] = useState();\n  const [fileName, setFileName] = useState(\"\");\n  const { uploadFlag } = props;\n  const { set, get } = uploadFlag;\n\n  const saveFile = (e) => {\n    setFile(e.target.files[0]);\n    setFileName(e.target.files[0].name);\n  };\n\n  const uploadFile = (event) => {\n    if (typeof file === \"undefined\") {\n      swal({\n        title: \"Please select a File\",\n        icon: \"warning\",\n      })\n      return;\n    }\n    var formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"fileName\", fileName);\n    return new Promise((resolve) => {\n      api\n        .uploadFile(formData)\n        .then((res) => {\n          set(!get);\n          swal({\n            title: res.data.message,\n            icon: \"success\",\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    });\n  };\n\n  return (\n    <div>\n      <div className=\"input-group\">\n        <input\n          type=\"file\"\n          className=\"form-control\"\n          id=\"inputGroupFile04\"\n          aria-describedby=\"inputGroupFileAddon04\"\n          aria-label=\"Upload\"\n          onChange={saveFile}\n        />\n        <button\n          className=\"btn btn-outline-secondary\"\n          type=\"button\"\n          id=\"inputGroupFileAddon04\"\n          onClick={uploadFile}\n        >\n          Upload\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}