{"ast":null,"code":"/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends } from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT, CONTEXTMENU_WARN_DECORATOR_NO_METHOD } from \"../../common/errors\";\nimport { getDisplayName, isFunction } from \"../../common/utils\";\nimport { isDarkTheme } from \"../../common/utils/isDarkTheme\";\nimport * as ContextMenu from \"./contextMenu\";\n/* eslint-disable deprecation/deprecation */\n\n/** @deprecated use ContextMenu2 */\n\nexport function ContextMenuTarget(WrappedComponent) {\n  var _a;\n\n  if (!isFunction(WrappedComponent.prototype.renderContextMenu)) {\n    console.warn(CONTEXTMENU_WARN_DECORATOR_NO_METHOD);\n  }\n\n  return _a =\n  /** @class */\n  function (_super) {\n    __extends(ContextMenuTargetClass, _super);\n\n    function ContextMenuTargetClass() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ContextMenuTargetClass.prototype.render = function () {\n      var _this = this;\n\n      var element = _super.prototype.render.call(this);\n\n      if (element == null) {\n        // always return `element` in case caller is distinguishing between `null` and `undefined`\n        return element;\n      }\n\n      if (!React.isValidElement(element)) {\n        console.warn(CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n        return element;\n      }\n\n      var oldOnContextMenu = element.props.onContextMenu;\n\n      var onContextMenu = function (e) {\n        // support nested menus (inner menu target would have called preventDefault())\n        if (e.defaultPrevented) {\n          return;\n        }\n\n        if (isFunction(_this.renderContextMenu)) {\n          var menu = _this.renderContextMenu(e);\n\n          if (menu != null) {\n            // HACKHACK: see https://github.com/palantir/blueprint/issues/3979\n\n            /* eslint-disable-next-line react/no-find-dom-node */\n            var darkTheme = isDarkTheme(ReactDOM.findDOMNode(_this));\n            e.preventDefault();\n            ContextMenu.show(menu, {\n              left: e.clientX,\n              top: e.clientY\n            }, _this.onContextMenuClose, darkTheme);\n          }\n        }\n\n        oldOnContextMenu === null || oldOnContextMenu === void 0 ? void 0 : oldOnContextMenu(e);\n      };\n\n      return React.cloneElement(element, {\n        onContextMenu: onContextMenu\n      });\n    };\n\n    return ContextMenuTargetClass;\n  }(WrappedComponent), _a.displayName = \"ContextMenuTarget(\".concat(getDisplayName(WrappedComponent), \")\"), _a;\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;AAgBA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AAGA,SACIC,8CADJ,EAEIC,oCAFJ,QAGO,qBAHP;AAIA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,oBAA3C;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAQA;;AAEA;;AACA,OAAM,SAAUC,iBAAV,CAAiFC,gBAAjF,EAAoG;;;AACtG,MAAI,CAACJ,UAAU,CAACI,gBAAgB,CAACC,SAAjB,CAA2BC,iBAA5B,CAAf,EAA+D;AAC3DC,WAAO,CAACC,IAAR,CAAaV,oCAAb;AACH;;AAED;AAAA;AAAA;AAA4CW;;AAArC;;AAsCN;;AAnCUC,8CAAP;AAAA;;AACI,UAAMC,OAAO,GAAGC,iBAAMC,MAAN,CAAYC,IAAZ,CAAY,IAAZ,CAAhB;;AAEA,UAAIH,OAAO,IAAI,IAAf,EAAqB;AACjB;AACA,eAAOA,OAAP;AACH;;AAED,UAAI,CAAChB,KAAK,CAACoB,cAAN,CAA0BJ,OAA1B,CAAL,EAAyC;AACrCJ,eAAO,CAACC,IAAR,CAAaX,8CAAb;AACA,eAAOc,OAAP;AACH;;AACD,UAAMK,gBAAgB,GAAGL,OAAO,CAACM,KAAR,CAAcC,aAAvC;;AACA,UAAMA,aAAa,GAAG,UAACC,CAAD,EAAiC;AACnD;AACA,YAAIA,CAAC,CAACC,gBAAN,EAAwB;AACpB;AACH;;AAED,YAAIpB,UAAU,CAACqB,KAAI,CAACf,iBAAN,CAAd,EAAwC;AACpC,cAAMgB,IAAI,GAAGD,KAAI,CAACf,iBAAL,CAAuBa,CAAvB,CAAb;;AACA,cAAIG,IAAI,IAAI,IAAZ,EAAkB;AACd;;AACA;AACA,gBAAMC,SAAS,GAAGtB,WAAW,CAACL,QAAQ,CAAC4B,WAAT,CAAqBH,KAArB,CAAD,CAA7B;AACAF,aAAC,CAACM,cAAF;AACAvB,uBAAW,CAACwB,IAAZ,CAAiBJ,IAAjB,EAAuB;AAAEK,kBAAI,EAAER,CAAC,CAACS,OAAV;AAAmBC,iBAAG,EAAEV,CAAC,CAACW;AAA1B,aAAvB,EAA4DT,KAAI,CAACU,kBAAjE,EAAqFR,SAArF;AACH;AACJ;;AAEDP,wBAAgB,SAAhB,oBAAgB,WAAhB,GAAgB,MAAhB,mBAAgB,CAAGG,CAAH,CAAhB;AACH,OAlBD;;AAoBA,aAAOxB,KAAK,CAACqC,YAAN,CAAmBrB,OAAnB,EAA4B;AAAEO,qBAAa;AAAf,OAA5B,CAAP;AACH,KAlCM;;AAmCX;AAtCO,GAAP,CAA4Cd,gBAA5C,GACkB6B,iBAAc,4BAAqBlC,cAAc,CAACK,gBAAD,CAAnC,EAAqD,GAArD,CADhC;AAuCH","names":["React","ReactDOM","CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT","CONTEXTMENU_WARN_DECORATOR_NO_METHOD","getDisplayName","isFunction","isDarkTheme","ContextMenu","ContextMenuTarget","WrappedComponent","prototype","renderContextMenu","console","warn","__extends","ContextMenuTargetClass","element","_super","render","call","isValidElement","oldOnContextMenu","props","onContextMenu","e","defaultPrevented","_this","menu","darkTheme","findDOMNode","preventDefault","show","left","clientX","top","clientY","onContextMenuClose","cloneElement","_a"],"sources":["/home/jinsonshaju/collateral/collateral-email-tracker/node_modules/@blueprintjs/core/src/components/context-menu/contextMenuTarget.tsx"],"sourcesContent":["/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { IConstructor } from \"../../common/constructor\";\nimport {\n    CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT,\n    CONTEXTMENU_WARN_DECORATOR_NO_METHOD,\n} from \"../../common/errors\";\nimport { getDisplayName, isFunction } from \"../../common/utils\";\nimport { isDarkTheme } from \"../../common/utils/isDarkTheme\";\nimport * as ContextMenu from \"./contextMenu\";\n\nexport interface IContextMenuTargetComponent extends React.Component {\n    render(): React.ReactElement<any> | null | undefined;\n    renderContextMenu: (e: React.MouseEvent<HTMLElement>) => JSX.Element | undefined;\n    onContextMenuClose?: () => void;\n}\n\n/* eslint-disable deprecation/deprecation */\n\n/** @deprecated use ContextMenu2 */\nexport function ContextMenuTarget<T extends IConstructor<IContextMenuTargetComponent>>(WrappedComponent: T) {\n    if (!isFunction(WrappedComponent.prototype.renderContextMenu)) {\n        console.warn(CONTEXTMENU_WARN_DECORATOR_NO_METHOD);\n    }\n\n    return class ContextMenuTargetClass extends WrappedComponent {\n        public static displayName = `ContextMenuTarget(${getDisplayName(WrappedComponent)})`;\n\n        public render() {\n            const element = super.render();\n\n            if (element == null) {\n                // always return `element` in case caller is distinguishing between `null` and `undefined`\n                return element;\n            }\n\n            if (!React.isValidElement<any>(element)) {\n                console.warn(CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n                return element;\n            }\n            const oldOnContextMenu = element.props.onContextMenu as React.MouseEventHandler<HTMLElement>;\n            const onContextMenu = (e: React.MouseEvent<HTMLElement>) => {\n                // support nested menus (inner menu target would have called preventDefault())\n                if (e.defaultPrevented) {\n                    return;\n                }\n\n                if (isFunction(this.renderContextMenu)) {\n                    const menu = this.renderContextMenu(e);\n                    if (menu != null) {\n                        // HACKHACK: see https://github.com/palantir/blueprint/issues/3979\n                        /* eslint-disable-next-line react/no-find-dom-node */\n                        const darkTheme = isDarkTheme(ReactDOM.findDOMNode(this));\n                        e.preventDefault();\n                        ContextMenu.show(menu, { left: e.clientX, top: e.clientY }, this.onContextMenuClose, darkTheme);\n                    }\n                }\n\n                oldOnContextMenu?.(e);\n            };\n\n            return React.cloneElement(element, { onContextMenu });\n        }\n    };\n}\n"]},"metadata":{},"sourceType":"module"}